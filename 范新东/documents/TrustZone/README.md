目录
- [TrustZone](#trustzone)
  - [TrustZone硬件扩展](#trustzone硬件扩展)
    - [硬件扩展](#硬件扩展)

# TrustZone

## TrustZone硬件扩展
TrustZone的技术是为了提高系统的安全性而提出的。而做到对外部资源和内存资源的硬件隔离就是TrustZone的核心。这些硬件隔离包括：中断隔离、片上RAM和ROM隔离、片外RAM和ROM隔离、外围设备的硬件隔离、外部RAM和ROM的隔离。

### 硬件扩展
为了实现硬件层面的各种隔离就需要对整个系统的硬件和处理器核做出相应的扩展。
| 硬件 | 扩展 |
| -- | -- |
| 处理器核 | 虚拟化出两个核：安全核和非安全核 |
| 总线 | 增加安全位读写信号线 |
| MMU | 增加页表的安全位 |
| cache | 增加安全位，标记当前缓存的cacheline是否安全 |
| TZASC | 增加一个memory filter，用于配置DDR的权限 |
| gicv | 增加安全中断和非安全中断，分别由不同世界处理 |
| 其他外围组件 | 增加安全操作控制权限和安全操作信号 |